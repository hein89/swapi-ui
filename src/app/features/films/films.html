<!-- <h2>Star Wars Filme</h2>

    @if (store.filmsResource.isLoading()) {
      <mat-spinner></mat-spinner>
    } @else if (store.filmsResource.error()) {
      <p>Fehler beim Laden der Filme.</p>
    } @else {
      <div class="film-grid">
        @for (film of store.filmsResource.value(); track film.episode_id) {
          <mat-card class="film-card">
            <mat-card-header>
              <mat-card-title>{{ film.title }}</mat-card-title>
              <mat-card-subtitle>Episode {{ film.episode_id }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <p>{{ film.opening_crawl.substring(0, 100) }}...</p>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button color="primary">DETAILS</button>
            </mat-card-actions>
          </mat-card>
        }
      </div>
    }
    -->

<h2>Star Wars Filme</h2>

@if (store.filmsResource.isLoading()) {

    <div class="loader-container">
        <mat-spinner></mat-spinner>
    </div>

} @else if (store.filmsResource.error()) {

    <p>Fehler beim Laden der Filme.</p>

} @else {

    <div class="film-grid">

        @for (film of store.filmsResource.value(); track film.episode_id) {
            <mat-card class="film-card">

                <mat-card-header>
                    <mat-card-title>{{ film.title }}</mat-card-title>
                    <mat-card-subtitle>Episode {{ film.episode_id }} - Regie: {{ film.director }}</mat-card-subtitle>
                </mat-card-header>

                <mat-card-content>
                    <p>{{ film.opening_crawl.substring(0, 150) }}...</p>
                    <small>Ver√∂ffentlicht: {{ film.release_date }}</small>
                </mat-card-content>

                <mat-card-actions>
                    <button mat-flat-button color="accent" [routerLink]="['/films', extractId(film.url)]">
                        MEHR ERFAHREN
                    </button>
                </mat-card-actions>

            </mat-card>
        }
    </div>
}